<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Metaballs in WebGL - Full Example</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        canvas {
            width: 800px;
            height: 800px;
            display: block;
            background-color:#207DCA;
        }

        #controls-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            color: white;
            width: 300px;
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .control-group {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        .control-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #2196F3;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .slider-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .range-slider {
            width: 100%;
            margin: 10px 0;
        }

        .slider-value {
            font-size: 0.8em;
            color: #aaa;
        }

        .color-picker-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .color-picker {
            -webkit-appearance: none;
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .color-picker::-webkit-color-swatch-wrapper {
            padding: 0;
        }

        .color-picker::-webkit-color-swatch {
            border: none;
            border-radius: 5px;
        }

        /* Add styles for the force type selector */
        .force-type-selector {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            gap: 10px;
        }

        .force-type-button {
            flex: 1;
            padding: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .force-type-button.active {
            background: #2196F3;
            border-color: #2196F3;
        }
    </style>
</head>
<body>
    <canvas id="glcanvas" width="500" height="500"></canvas>
    
    <div id="controls-panel">
        <h3 style="margin-top: 0;">Effect Controls</h3>
        
        <!-- Color Controls -->
        <div class="control-group">
            <h4 style="margin-top: 0;">Color Settings</h4>
            
            <!-- Base Color -->
            <div class="control-header">
                <span>Base Color</span>
                <div class="color-picker-container">
                    <input type="color" id="base-color" class="color-picker" value="#FFFFFF">
                </div>
            </div>

            <!-- Secondary Color -->
            <div class="control-header">
                <span>Secondary Color</span>
                <div class="color-picker-container">
                    <input type="color" id="secondary-color" class="color-picker" value="#88CCFF">
                </div>
            </div>

            <!-- Background Color -->
            <div class="control-header">
                <span>Background Color</span>
                <div class="color-picker-container">
                    <input type="color" id="background-color" class="color-picker" value="#207DCA">
                </div>
            </div>

            <!-- Velocity Color Effect -->
            <div class="control-header">
                <span>Velocity Color</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="velocity-color-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="velocity-color-slider" class="range-slider" 
                       min="0.1" max="2.0" step="0.1" value="1.0">
                <span class="slider-value">Intensity: <span id="velocity-color-value">1.0</span></span>
            </div>

            <!-- Distance Color Effect -->
            <div class="control-header">
                <span>Distance Blend</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="distance-color-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="distance-color-slider" class="range-slider" 
                       min="0.1" max="2.0" step="0.1" value="1.0">
                <span class="slider-value">Blend: <span id="distance-color-value">1.0</span></span>
            </div>
        </div>

        <!-- Mouse Interaction -->
        <div class="control-group">
            <h4 style="margin-top: 0;">Mouse Interaction</h4>
            
            <!-- Mouse Force Toggle -->
            <div class="control-header">
                <span>Mouse Force</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="mouse-force-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <!-- Force Type Selector -->
            <div class="force-type-selector">
                <button id="attract-button" class="force-type-button active">Attract</button>
                <button id="repel-button" class="force-type-button">Repel</button>
            </div>

            <!-- Force Strength -->
            <div class="slider-container">
                <input type="range" id="mouse-force-slider" class="range-slider" 
                       min="0.1" max="2.0" step="0.1" value="1.0">
                <span class="slider-value">Force: <span id="mouse-force-value">1.0</span></span>
            </div>

            <!-- Effect Radius -->
            <div class="slider-container">
                <input type="range" id="mouse-radius-slider" class="range-slider" 
                       min="50" max="300" step="10" value="150">
                <span class="slider-value">Radius: <span id="mouse-radius-value">150</span>px</span>
            </div>
        </div>

        <!-- Viscous Damping -->
        <div class="control-group">
            <div class="control-header">
                <span>Viscous Damping</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="viscous-damping-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="viscous-damping-slider" class="range-slider" 
                       min="0.98" max="1.0" step="0.001" value="0.995">
                <span class="slider-value">Strength: <span id="viscous-damping-value">0.99500</span></span>
            </div>
        </div>

        <!-- Vorticity -->
        <div class="control-group">
            <div class="control-header">
                <span>Vorticity</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="vorticity-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="vorticity-slider" class="range-slider" 
                       min="0.0" max="0.0001" step="0.000001" value="0.0">
                <span class="slider-value">Strength: <span id="vorticity-value">0.000000000000</span></span>
            </div>
        </div>

        <!-- Turbulence -->
        <div class="control-group">
            <div class="control-header">
                <span>Turbulence</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="turbulence-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="turbulence-slider" class="range-slider" 
                       min="0.0001" max="0.01" step="0.0001" value="0.001">
                <span class="slider-value">Strength: <span id="turbulence-value">0.001</span></span>
            </div>
        </div>

        <!-- Angular Momentum -->
        <div class="control-group">
            <div class="control-header">
                <span>Angular Momentum</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="angular-momentum-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="angular-momentum-slider" class="range-slider" 
                       min="0.00001" max="0.0001" step="0.00001" value="0.00002">
                <span class="slider-value">Strength: <span id="angular-momentum-value">0.0000</span></span>
            </div>
        </div>

        <!-- Surface Tension -->
        <div class="control-group">
            <div class="control-header">
                <span>Surface Tension</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="surface-tension-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="surface-tension-slider" class="range-slider" 
                       min="0.01" max="0.1" step="0.01" value="0.03">
                <span class="slider-value">Strength: <span id="surface-tension-value">0.03</span></span>
            </div>
        </div>

        <!-- Add after Surface Tension control group -->
        <!-- Gravity Control -->
        <div class="control-group">
            <div class="control-header">
                <span>Gravity</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="gravity-toggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="gravity-slider" class="range-slider" 
                       min="0.0001" max="0.002" step="0.0001" value="0.0005">
                <span class="slider-value">Strength: <span id="gravity-value">0.0005</span></span>
            </div>
        </div>

        <!-- Repulsion Controls -->
        <div class="control-group">
            <div class="control-header">
                <span>Ball Repulsion</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="repulsion-toggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="slider-container">
                <input type="range" id="repulsion-slider" class="range-slider" 
                       min="0.0" max="0.05" step="0.005" value="0.02">
                <span class="slider-value">Strength: <span id="repulsion-value">0.02</span></span>
            </div>
            <div class="slider-container">
                <input type="range" id="repulsion-radius-slider" class="range-slider" 
                       min="0.1" max="0.5" step="0.05" value="0.2">
                <span class="slider-value">Radius: <span id="repulsion-radius-value">0.2</span></span>
            </div>
        </div>
    </div>

<script type="module" src="/src/main.js"></script>
    
</body>
</html>


